import{K as m,k as w,w as S,r as x,o as d,q as p,t as o,v as P,L as I,$ as k,F as b,D as C,E as N,G as L,B as M,M as V,N as q,y as B,c as K,I as D}from"./vendor.eae21ba8.js";import{p as E,m as F}from"./data.9734558e.js";import{P as T}from"./ProductListItemSquare.772c4d4a.js";import{S as U,P as j}from"./SideNav.c241cc1c.js";import{p as A}from"./productStore.0673bb54.js";import{s as G}from"./statusStore.f4307df1.js";import{_ as W}from"./index.8c38c7d6.js";import"./cartStore.6125f6e6.js";import"./api.b01730aa.js";const z={components:{ProductListItemSquare:T,SideNav:U,Pagination:j},setup(){const n=A(),r=G(),_=m(""),a=m(""),f=m(""),u=m({totalPages:1,nowPage:1}),g=w(()=>{let e=[];return e=n.products,e=y(_.value,e),e=t(a.value,e),e=h(f.value,e),e}),v=w(()=>{let e=[];if(g.value.length<=12)return g.value;{const l=u.value.nowPage*12-12;return g.value.forEach((s,i)=>{l<=i&&i<u.value.nowPage*12&&e.push(s)}),e}});function y(e,l){let s=l;return e!==""&&e!==void 0&&(s=l.filter(i=>i.title.includes(e)||i.tags.includes(e))),s}function t(e,l){let s=l;return e!==""&&e!==void 0&&(s=l.filter(i=>i.category===e)),s}function h(e,l){let s=l;return e!==""&&e!==void 0&&(s=l.filter(i=>i.material===e)),s}return S(g,(e,l)=>{e.length!==l.length&&(u.value.nowPage=1,u.value.totalPages=Math.ceil(e.length/12))}),S(u.value,()=>{r.mainContainer.scrollTo({top:0,behavior:"smooth"})}),n.getProducts(),n.getCollections(),{filterKeyword:_,filterProductCategory:a,filterMaterialCategory:f,nowPageProducts:v,productCategory:E,materialCategory:F,paginationData:u,productsData:n}}},c=n=>(V("data-v-8ee75a5c"),n=n(),q(),n),H={class:"relative bg-white grid grid-cols-12 lg:px-24 md:px-16 px-4 md:py-32 py-16 md:gap-x-8 w-full"},J={class:"col-start-2 col-span-10 lg:mb-32 md:mb-24 mb-16"},O=c(()=>o("h4",{class:"text-xl text-black uppercase mb-8"},"All Products",-1)),Q=c(()=>o("h3",{class:"lg:text-8xl sm:text-5xl text-4xl text-black font-medium md:mb-16 mb-8"}," \u5168\u90E8\u5546\u54C1 ",-1)),R={class:"flex md:flex-row flex-col md:gap-8 gap-4"},X={class:"pageInputBox flex-1"},Y=c(()=>o("button",{type:"button",class:"py-1.5 px-2 searchBtn group"},[o("i",{class:"bi bi-x text-xl group-hover:text-red-600"})],-1)),Z=c(()=>o("div",{class:"underLine"},null,-1)),$={class:"pageSelectBox flex-1 md:hidden"},ee=c(()=>o("option",{selected:"",value:""},"\u5168\u90E8\u985E\u5225",-1)),te=["value"],oe=c(()=>o("div",{class:"underLine"},null,-1)),ae={class:"pageSelectBox flex-1 md:hidden"},re=c(()=>o("option",{selected:"",value:""},"\u5168\u90E8\u6750\u8CEA",-1)),le=["value"],se=c(()=>o("div",{class:"underLine"},null,-1)),ne={class:"lg:col-span-2 md:col-span-3 relative md:block hidden"},ie={class:"sticky top-32"},de=D("\u5546\u54C1\u985E\u5225"),ce={class:"lg:col-span-10 md:col-span-9 col-span-12 grid xl:grid-cols-3 lg:grid-cols-2 grid-cols-1 gap-4 mb-8"},ue={key:0,class:"lg:col-start-3 md:col-start-4 lg:col-span-10 md:col-span-9 col-span-12 flex justify-center"};function pe(n,r,_,a,f,u){const g=x("SideNav"),v=x("ProductListItemSquare"),y=x("Pagination");return d(),p("div",H,[o("div",J,[O,Q,o("div",R,[o("div",X,[P(o("input",{class:"appearance-none bg-transparent border-b border-gray-300 w-full text-gray-700 p-2 leading-tight focus:outline-none",type:"text",id:"inputSearch",placeholder:"\u641C\u5C0B\u95DC\u9375\u5B57","onUpdate:modelValue":r[0]||(r[0]=t=>a.filterKeyword=t)},null,512),[[I,a.filterKeyword]]),Y,Z]),o("div",$,[P(o("select",{class:"cursor-pointer appearance-none bg-transparent border-b border-gray-300 w-full p-2 leading-tight focus:outline-none",id:"filterCategory",value:"modelValue","onUpdate:modelValue":r[1]||(r[1]=t=>a.filterProductCategory=t)},[ee,(d(!0),p(b,null,C(a.productCategory,t=>(d(),p("option",{key:t,value:t},B(t),9,te))),128))],512),[[k,a.filterProductCategory]]),oe]),o("div",ae,[P(o("select",{class:"cursor-pointer appearance-none bg-transparent border-b border-gray-300 w-full p-2 leading-tight focus:outline-none",id:"filterCategory",value:"modelValue","onUpdate:modelValue":r[2]||(r[2]=t=>a.filterMaterialCategory=t)},[re,(d(!0),p(b,null,C(a.materialCategory,t=>(d(),p("option",{key:t,value:t},B(t),9,le))),128))],512),[[k,a.filterMaterialCategory]]),se])])]),o("div",ne,[o("div",ie,[N(g,{"nav-list":a.productCategory,onChangeSideNav:r[3]||(r[3]=t=>a.filterProductCategory=t)},{default:L(()=>[de]),_:1},8,["nav-list"])])]),o("div",ce,[(d(!0),p(b,null,C(a.nowPageProducts,(t,h)=>(d(),K(v,{key:t.id,product:t,"list-index":h,"collection-list":a.productsData.collections},null,8,["product","list-index","collection-list"]))),128))]),a.paginationData.totalPages>1?(d(),p("div",ue,[N(y,{"pagination-data":a.paginationData,onChangePageNumber:r[4]||(r[4]=t=>a.paginationData.nowPage=t)},null,8,["pagination-data"])])):M("",!0)])}var be=W(z,[["render",pe],["__scopeId","data-v-8ee75a5c"]]);export{be as default};
