import{f as S}from"./api.35fab65f.js";import{d as T,o as N,s as C,p as j}from"./order.0676dcce.js";import{V as O}from"./VeeFormInput.0fe99a4f.js";import{F as I}from"./FormInputTextArea.c389571f.js";import{a1 as A,L as k,r as u,o as a,t as d,v as t,H as i,I as c,B as p,D as x,F as f,E as v,A as l,K as n,c as B,J as L}from"./vendor.dd24d7c7.js";import{c as U}from"./cartStore.b403ba74.js";import{s as E}from"./statusStore.13921c37.js";import{_ as P}from"./index.f473b57b.js";var W="/boaboly-art-store/assets/img-cat-dance.c78997c7.svg";const H={components:{VeeFormInput:O,FormInputTextArea:I,Form:A},setup(){const m=U(),s=E(),h=k(1),e=k(JSON.parse(JSON.stringify(T)));function w(){s.openPopInfoBox("\u9001\u51FA\u8A02\u55AE","\u8ACB\u9EDE\u64CA\u4E0B\u65B9\u78BA\u5B9A\uFF0C\u5C07\u6703\u9001\u51FA\u8A02\u55AE",function(){e.value.user.shipping.price=m.shippingFee,e.value.user.finalPrice=m.orderTotal,S.postOrder(e.value).then(()=>{m.getCart(),y(3)})})}function y(g){h.value=g,s.mainContainer.scrollTo({top:0,behavior:"smooth"})}return m.getCart(),{statusData:s,cartData:m,checkStage:h,orderFormData:e,orderStatus:N,shippingWay:C,payWay:j,sendOrder:w,changeStage:y}}},J={class:"bg-gray-100 relative md:py-16 pt-4 pb-16 min-h-screen"},R=t("div",{class:"bg-primaryLight w-full h-96 absolute top-0"},null,-1),q={class:"sm:container sm:mx-auto mx-4 bg-white shadow-sm lg:p-24 md:p-12 p-8 pb-24"},z={key:0,class:"flex sm:flex-row flex-col sm:items-center mb-4 sm:gap-6 gap-2"},K=t("i",{class:"bi bi-chevron-double-left mr-1"},null,-1),M=t("p",null,"\u8FD4\u56DE\u7E7C\u7E8C\u8CFC\u7269",-1),G=t("div",{class:"bg-gray-300 sm:w-px sm:h-8 h-px w-full sm:mb-0 mb-2"},null,-1),Q={class:"flex gap-2 md:mx-0 mx-auto items-center"},X=t("li",null,[t("i",{class:"bi bi-chevron-right block"})],-1),Y={key:1,class:"grid lg:grid-cols-12 grid-cols-1 gap-y-8"},Z={class:"lg:col-span-7"},$={class:"carouter-link grid-cols-1 flex-grow-1 overflow-y-auto lg:px-8 mt-8"},tt=L('<li class="grid grid-cols-6 gap-2 border-b border-gray-300"><div class="col-span-4"><p class="text-sm text-gray-400 mb-2">\u54C1\u9805</p></div><div class="col-span-1 md:flex hidden justify-center"><p class="text-sm text-gray-400 mb-2">\u6578\u91CF</p></div><div class="col-span-1 md:flex hidden justify-center"><p class="text-sm text-gray-400 mb-2">\u91D1\u984D</p></div></li>',1),et={class:"md:col-span-4 col-span-2 flex items-center"},st=["src","alt"],ot={class:"ml-3"},rt={class:"col-span-1 flex md:justify-center items-center"},at={class:"col-span-1 flex md:justify-center justify-end items-center"},lt={class:"col border-t border-gray-300 bg-white p-2 flex items-center"},dt=t("p",{class:"text-sm text-gray-400 mr-3"},"\u7E3D\u91D1\u984D",-1),ct={class:"text font-bold"},nt={class:"lg:col-span-5"},it={class:"border border-gray-300 p-6"},mt=t("div",{class:"border-b border-gray-300 mb-5"},[t("p",{class:"text-sm text-gray-400 mb-2"},"\u8A02\u55AE\u72C0\u614B")],-1),pt={class:"mb-3"},gt=t("span",{class:"text-sm text-gray-400 mr-4"},"\u5546\u54C1\u7E3D\u8A08",-1),_t={class:"xs:flex-row flex-col xs: justify-between mb-3"},bt=t("span",{class:"text-sm text-gray-400 mr-4"},"\u904B\u8CBB",-1),ut={class:"border-t border-gray-300 bg-white pt-6 mt-6 xs:flex-row flex-col xs:justify-between items-center"},xt={class:"xs:mb-0 mb-4"},ht=t("p",{class:"text-sm text-gray-400 mb-1"},"\u7E3D\u91D1\u984D",-1),yt={class:"text-xl font-bold"},ft={class:"lg:col-span-7 flex flex-col gap-y-3"},vt=n("(\u5FC5\u586B)"),wt=n("(\u5FC5\u586B)"),kt=n("(\u5FC5\u586B)"),Dt=t("p",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 pl-2"}," \u904B\u9001\u65B9\u5F0F ",-1),Ft={class:"flex gap-4"},Vt=["onClick"],St=n("(\u5FC5\u586B)"),Tt=n("\u8A02\u55AE\u5099\u8A3B"),Nt={class:"lg:col-span-5"},Ct={class:"border border-gray-300 md:p-6 p-4"},jt=t("div",{class:"border-b border-gray-300 mb-5"},[t("p",{class:"text-sm text-gray-400 mb-2"},"\u4ED8\u6B3E\u8CC7\u8A0A")],-1),Ot=t("p",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2 pl-2"}," \u4ED8\u6B3E\u65B9\u5F0F ",-1),It={class:"flex flex-wrap md:mb-12 mb-4 md:gap-4 gap-2"},At=["onClick"],Bt={class:"border-t border-gray-300 bg-white pt-6 mt-6 xs:flex-row flex-col xs:justify-between items-center"},Lt={class:"xs:mb-0 mb-4"},Ut=t("p",{class:"text-sm text-gray-400 mb-1"},"\u7E3D\u91D1\u984D",-1),Et={class:"text-xl font-bold"},Pt=["disabled"],Wt={key:3,class:"grid lg:grid-cols-5 md:grid-cols-6 grid-cols-1"},Ht={class:"lg:col-span-3 lg:col-start-2 md:col-span-4 md:col-start-2 flex flex-col items-center gap-4"},Jt=t("h2",{class:"text-center md:text-4xl text-xl font-bold"},"\u5B8C\u6210\u8CFC\u8CB7",-1),Rt=t("p",{class:"text-center"}," \u975E\u5E38\u611F\u8B1D\u60A8\u7684\u8CFC\u8CB7\u8207\u652F\u6301\uFF0C\u6211\u5011\u5C07\u6301\u7E8C\u63A8\u51FA\u65B0\u7684\u8A2D\u8A08\u5546\u54C1\u3002\u6B61\u8FCE\u96A8\u6642\u8FFD\u8E64\uFF5E ",-1),qt=t("img",{class:"lg:w-3/6 md:w-5/6 w-full mb-4",src:W,alt:"\u611F\u8B1D\u8CFC\u8CB7"},null,-1),zt={class:"flex lg:flex-row flex-col sm:gap-4 gap-2 p-4 pt-0 w-full"},Kt=n(" \u56DE\u5230\u9996\u9801 "),Mt=n(" \u7E7C\u7E8C\u8CFC\u7269 ");function Gt(m,s,h,e,w,y){const g=u("RouterLink"),b=u("VeeFormInput"),D=u("FormInputTextArea"),F=u("Form");return a(),d("div",J,[R,t("div",q,[e.checkStage<3?(a(),d("div",z,[i(g,{to:{name:"Home"},class:"px-3 py-2 flex items-center"},{default:c(()=>[K,M]),_:1}),G,t("ul",Q,[t("li",null,[t("p",{class:p(["cursor-pointer sm:px-3 sm:py-2",{"text-gray-300":e.checkStage<1}]),onClick:s[0]||(s[0]=r=>e.changeStage(1))}," \u8CFC\u8CB7\u9805\u76EE ",2)]),X,t("li",null,[t("p",{class:p(["sm:px-3 sm:py-2",{"text-gray-300":e.checkStage<2}])}," \u586B\u5BEB\u6536\u4EF6\u8CC7\u6599\uFF06\u4ED8\u6B3E ",2)])])])):x("",!0),e.checkStage===1?(a(),d("div",Y,[t("div",Z,[t("ul",$,[tt,(a(!0),d(f,null,v(e.cartData.carts,(r,o)=>(a(),d("li",{key:r.id,class:p([{"border-b border-gray-300":o<e.cartData.carts.length-1},"grid md:grid-cols-6 grid-cols-2 gap-2 hover:bg-gray-100/50 py-4"])},[t("div",et,[t("img",{class:"w-20",src:r.product.imageUrl,alt:`${r.product}\u5716\u7247`},null,8,st),t("div",ot,[t("p",null,l(r.product.title),1),t("p",null,"NT$ "+l(r.product.price),1)])]),t("div",rt,[t("p",null,l(r.qty)+" \u9805",1)]),t("div",at,[t("p",null,"NT$ "+l(r.total),1)])],2))),128)),t("li",lt,[dt,t("p",ct,"NT$ "+l(e.cartData.cartTotal),1)])])]),t("div",nt,[t("div",it,[mt,t("p",pt,[gt,n("NT$ "+l(e.cartData.cartTotal),1)]),t("div",_t,[t("p",null,[bt,n(" "+l(e.cartData.cartTotal>=1e3?"\u514D\u904B":`NT$ ${e.cartData.shippingFee}`),1)])]),t("div",ut,[t("div",xt,[ht,t("p",yt,"NT$ "+l(e.cartData.orderTotal),1)]),t("button",{type:"button",class:"bg-black rounded py-2 px-3 hover:bg-gray-800 text-white",onClick:s[1]||(s[1]=r=>e.changeStage(2))}," \u586B\u5BEB\u6536\u4EF6\u4EBA\u8CC7\u6599 ")])])])])):x("",!0),e.checkStage===2?(a(),B(F,{key:2,class:"grid lg:grid-cols-12 grid-cols-1 gap-6",onSubmit:e.sendOrder},{default:c(({errors:r})=>[t("div",ft,[i(b,{modelValue:e.orderFormData.user.name,"onUpdate:modelValue":s[2]||(s[2]=o=>e.orderFormData.user.name=o),"input-id":"userName","input-type":"text",errors:r,"label-name":"\u59D3\u540D","text-holder":"\u8ACB\u8F38\u5165\u59D3\u540D"},{default:c(()=>[vt]),_:2},1032,["modelValue","errors"]),i(b,{modelValue:e.orderFormData.user.tel,"onUpdate:modelValue":s[3]||(s[3]=o=>e.orderFormData.user.tel=o),"input-id":"userTel","input-type":"text",errors:r,"label-name":"\u806F\u7D61\u96FB\u8A71","text-holder":"\u8ACB\u8F38\u5165\u806F\u7D61\u96FB\u8A71"},{default:c(()=>[wt]),_:2},1032,["modelValue","errors"]),i(b,{modelValue:e.orderFormData.user.email,"onUpdate:modelValue":s[4]||(s[4]=o=>e.orderFormData.user.email=o),"input-id":"userEmail","input-type":"email",errors:r,"label-name":"Email","text-holder":"\u8ACB\u8F38\u5165Email"},{default:c(()=>[kt]),_:2},1032,["modelValue","errors"]),t("div",null,[Dt,t("div",Ft,[(a(!0),d(f,null,v(e.shippingWay,(o,_)=>(a(),d("button",{key:o,type:"button",class:p([{"bg-black text-white":e.orderFormData.user.shipping.way===_},"border border-gray-300 py-1 px-2 hover:border-gray-300"]),onClick:V=>e.orderFormData.user.shipping.way=_},[t("p",null,l(o),1)],10,Vt))),128))])]),i(b,{modelValue:e.orderFormData.user.address,"onUpdate:modelValue":s[5]||(s[5]=o=>e.orderFormData.user.address=o),"input-id":"userAddress","input-type":"text",errors:r,"label-name":"\u5730\u5740","text-holder":"\u8ACB\u8F38\u5165\u5730\u5740"},{default:c(()=>[St]),_:2},1032,["modelValue","errors"]),t("div",null,[i(D,{modelValue:e.orderFormData.messages,"onUpdate:modelValue":s[6]||(s[6]=o=>e.orderFormData.messages=o),"input-id":"messages","text-area-row":"5","text-holder":"\u5982\u60A8\u6709\u4EFB\u4F55\u9700\u6C42\uFF0C\u8ACB\u5728\u6B64\u7559\u8A00\u3002"},{default:c(()=>[Tt]),_:1},8,["modelValue"])])]),t("div",Nt,[t("div",Ct,[jt,Ot,t("div",It,[(a(!0),d(f,null,v(e.payWay,(o,_)=>(a(),d("button",{key:o,type:"button",class:p([{"bg-black text-white":e.orderFormData.user.pay.way===_},"border border-gray-300 py-1 px-2 hover:border-gray-300"]),onClick:V=>e.orderFormData.user.pay.way=_},[t("p",null,l(o),1)],10,At))),128))]),t("div",Bt,[t("div",Lt,[Ut,t("p",Et,"NT$ "+l(e.cartData.orderTotal),1)]),t("button",{disabled:Object.keys(r).length===0&&e.cartData.carts.length===0,type:"submit",class:p([{"bg-opacity-50 hover:bg-opacity-50":Object.keys(r).length===0&&e.cartData.carts.length===0},"bg-black rounded py-2 px-3 hover:bg-gray-800 text-white"])}," \u78BA\u5B9A\u4ED8\u6B3E ",10,Pt)])])])]),_:1},8,["onSubmit"])):x("",!0),e.checkStage===3?(a(),d("div",Wt,[t("div",Ht,[Jt,Rt,qt,t("div",zt,[i(g,{to:{name:"Home"},class:"text-center w-full border border-gray-400 rounded py-2 px-3 hover:border-gray-300"},{default:c(()=>[Kt]),_:1}),i(g,{to:{name:"ProductList"},class:"text-center w-full bg-black text-white rounded py-2 px-3 hover:border-gray-300"},{default:c(()=>[Mt]),_:1})])])])):x("",!0)])])}var oe=P(H,[["render",Gt]]);export{oe as default};
