import{K as m,k as w,w as S,r as x,o as u,q as p,t as o,v as P,L as B,$ as k,F as b,D as C,E as M,G as I,B as L,M as V,N as q,y as N,c as K,I as D}from"./vendor.eae21ba8.js";import{p as E,m as F}from"./data.9734558e.js";import{P as T}from"./ProductListItemSquare.2dc7a047.js";import{S as U,P as j}from"./SideNav.d3af8c3d.js";import{p as A}from"./productStore.df291611.js";import{s as G}from"./statusStore.f4307df1.js";import{_ as W}from"./index.9594078c.js";import"./cartStore.0534b763.js";import"./api.3680f533.js";const z={components:{ProductListItemSquare:T,SideNav:U,Pagination:j},setup(){const n=A(),l=G(),f=m(""),a=m(""),_=m(""),d=m({totalPages:1,nowPage:1}),c=w(()=>{let e=[];return e=n.products,e=h(f.value,e),e=t(a.value,e),e=y(_.value,e),e}),v=w(()=>{let e=[];if(c.value.length<=12)return c.value;{const r=d.value.nowPage*12-12;return c.value.forEach((s,i)=>{r<=i&&i<d.value.nowPage*12&&e.push(s)}),e}});function h(e,r){let s=r;return e!==""&&e!==void 0&&(s=r.filter(i=>i.title.includes(e)||i.tags.includes(e))),s}function t(e,r){let s=r;return e!==""&&e!==void 0&&(s=r.filter(i=>i.category===e)),s}function y(e,r){let s=r;return e!==""&&e!==void 0&&(s=r.filter(i=>i.material===e)),s}return S(c,(e,r)=>{e.length!==r.length&&(d.value.nowPage=1,d.value.totalPages=Math.ceil(e.length/12))}),S(d.value,()=>{l.mainContainer.scrollTo({top:0,behavior:"smooth"})}),n.getProducts(),n.getCollections(),Math.ceil(c.value.length/12)>1&&(d.value.totalPages=Math.ceil(c.value.length/12)),{filterKeyword:f,filterProductCategory:a,filterMaterialCategory:_,nowPageProducts:v,productCategory:E,materialCategory:F,paginationData:d,productsData:n}}},g=n=>(V("data-v-2fbfa9fc"),n=n(),q(),n),H={class:"relative bg-white grid grid-cols-12 lg:px-24 md:px-16 px-4 md:py-32 py-16 md:gap-x-8 w-full"},J={class:"col-start-2 col-span-10 lg:mb-32 md:mb-24 mb-16"},O=g(()=>o("h4",{class:"text-xl text-black uppercase mb-8"},"All Products",-1)),Q=g(()=>o("h3",{class:"lg:text-8xl sm:text-5xl text-4xl text-black font-medium md:mb-16 mb-8"}," \u5168\u90E8\u5546\u54C1 ",-1)),R={class:"flex md:flex-row flex-col md:gap-8 gap-4"},X={class:"pageInputBox flex-1"},Y=g(()=>o("button",{type:"button",class:"py-1.5 px-2 searchBtn group"},[o("i",{class:"bi bi-x text-xl group-hover:text-red-600"})],-1)),Z=g(()=>o("div",{class:"underLine"},null,-1)),$={class:"pageSelectBox flex-1 md:hidden"},ee=g(()=>o("option",{selected:"",value:""},"\u5168\u90E8\u985E\u5225",-1)),te=["value"],oe=g(()=>o("div",{class:"underLine"},null,-1)),ae={class:"pageSelectBox flex-1 md:hidden"},le=g(()=>o("option",{selected:"",value:""},"\u5168\u90E8\u6750\u8CEA",-1)),re=["value"],se=g(()=>o("div",{class:"underLine"},null,-1)),ne={class:"lg:col-span-2 md:col-span-3 relative md:block hidden"},ie={class:"sticky top-32"},de=D("\u5546\u54C1\u985E\u5225"),ce={class:"lg:col-span-10 md:col-span-9 col-span-12 grid xl:grid-cols-3 lg:grid-cols-2 grid-cols-1 gap-4 mb-8"},ue={key:0,class:"lg:col-start-3 md:col-start-4 lg:col-span-10 md:col-span-9 col-span-12 flex justify-center"};function ge(n,l,f,a,_,d){const c=x("SideNav"),v=x("ProductListItemSquare"),h=x("Pagination");return u(),p("div",H,[o("div",J,[O,Q,o("div",R,[o("div",X,[P(o("input",{class:"appearance-none bg-transparent border-b border-gray-300 w-full text-gray-700 p-2 leading-tight focus:outline-none",type:"text",id:"inputSearch",placeholder:"\u641C\u5C0B\u95DC\u9375\u5B57","onUpdate:modelValue":l[0]||(l[0]=t=>a.filterKeyword=t)},null,512),[[B,a.filterKeyword]]),Y,Z]),o("div",$,[P(o("select",{class:"cursor-pointer appearance-none bg-transparent border-b border-gray-300 w-full p-2 leading-tight focus:outline-none",id:"filterCategory",value:"modelValue","onUpdate:modelValue":l[1]||(l[1]=t=>a.filterProductCategory=t)},[ee,(u(!0),p(b,null,C(a.productCategory,t=>(u(),p("option",{key:t,value:t},N(t),9,te))),128))],512),[[k,a.filterProductCategory]]),oe]),o("div",ae,[P(o("select",{class:"cursor-pointer appearance-none bg-transparent border-b border-gray-300 w-full p-2 leading-tight focus:outline-none",id:"filterCategory",value:"modelValue","onUpdate:modelValue":l[2]||(l[2]=t=>a.filterMaterialCategory=t)},[le,(u(!0),p(b,null,C(a.materialCategory,t=>(u(),p("option",{key:t,value:t},N(t),9,re))),128))],512),[[k,a.filterMaterialCategory]]),se])])]),o("div",ne,[o("div",ie,[M(c,{"nav-list":a.productCategory,onChangeSideNav:l[3]||(l[3]=t=>a.filterProductCategory=t)},{default:I(()=>[de]),_:1},8,["nav-list"])])]),o("div",ce,[(u(!0),p(b,null,C(a.nowPageProducts,(t,y)=>(u(),K(v,{key:t.id,product:t,"list-index":y,"collection-list":a.productsData.collections},null,8,["product","list-index","collection-list"]))),128))]),a.paginationData.totalPages>1?(u(),p("div",ue,[M(h,{"pagination-data":a.paginationData,onChangePageNumber:l[4]||(l[4]=t=>a.paginationData.nowPage=t)},null,8,["pagination-data"])])):L("",!0)])}var be=W(z,[["render",ge],["__scopeId","data-v-2fbfa9fc"]]);export{be as default};
