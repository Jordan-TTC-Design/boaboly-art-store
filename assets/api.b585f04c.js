var l=Object.defineProperty;var i=Object.getOwnPropertySymbols;var p=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var u=(t,e,r)=>e in t?l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,s=(t,e)=>{for(var r in e||(e={}))p.call(e,r)&&u(t,r,e[r]);if(i)for(var r of i(e))h.call(e,r)&&u(t,r,e[r]);return t};import{j as a}from"./vendor.bfa7d6b3.js";const n={url:"https://vue3-course-api.hexschool.io/v2",path:"boaboly-shop"},d={getProduct:`${n.url}/api/${n.path}/product`,getArticle:`${n.url}/api/${n.path}/article`,cart:`${n.url}/api/${n.path}/cart`,order:`${n.url}/api/${n.path}/order`},c={signin:`${n.url}/admin/signin`,checkLogin:`${n.url}/api/user/check`,adminGetProductsAll:`${n.url}/api/${n.path}/admin/products/all`,adminGetProducts:`${n.url}/api/${n.path}/admin/products`,adminPostProduct:`${n.url}/api/${n.path}/admin/product`,adminDeleteProduct:`${n.url}/api/${n.path}/admin/product`,adminUpdateProduct:`${n.url}/api/${n.path}/admin/product`,imgUpload:`${n.url}/api/${n.path}/admin/upload`,adminOrders:`${n.url}/api/${n.path}/admin/orders`,adminOrder:`${n.url}/api/${n.path}/admin/order`,adminArticle:`${n.url}/api/${n.path}/admin/article`},$=document.cookie.replace(/(?:(?:^|.*;\s*)ttcDesignToken\s*\=\s*([^;]*).*$)|^.*$/,"$1");a.defaults.headers.common.Authorization=$;const A={getProductAll(){return a.get(`${d.getProduct}s/all`).then(t=>t.data.products).catch(t=>{console.dir(t.response)})},getProducts(){return a.get(`${d.getProduct}s`).then(t=>t.data).catch(t=>{console.dir(t.response)})},getProduct(t){return a.get(`${d.getProduct}/${t}`).then(e=>e.data.product).catch(e=>{console.dir(e.response)})},getArts(t=1){return a.get(`${d.getArticle}s?page=${t}`).then(e=>e.data).catch(e=>{console.dir(e.response)})},getArt(t){return a.get(`${d.getArticle}/${t}`).then(e=>e.data.article).catch(e=>{console.dir(e.response)})},getCart(){return a.get(d.cart).then(t=>t.data.data).catch(t=>{console.dir(t.response)})},addCart(t,e=1){const r={product_id:t,qty:e};return a.post(d.cart,{data:r}).then(o=>o.data).catch(o=>{console.dir(o.response)})},editCart(t,e){const r={product_id:e,qty:t};return a.put(`${d.cart}/${e}`,{data:r}).then(o=>o.data).catch(o=>{console.dir(o.response)})},deleteCart(t){return a.delete(`${d.cart}/${t}`).then(e=>e.data).catch(e=>{console.dir(e.response)})},deleteCartAll(){return a.delete(`${d.cart}s`).then(t=>t.data).catch(t=>{console.dir(t.response)})},postOrder(t){const e=t;return a.post(d.order,{data:e}).then(r=>r.data).catch(r=>{console.dir(r.response)})}},P={login(t){return a.post(c.signin,t).then(e=>{const{token:r,expired:o}=e.data;return document.cookie=`ttcDesignToken=${r}; expires=${new Date(o)};`,"success"}).catch(e=>{console.log(e.data)})},checkLogin(){const t=document.cookie.replace(/(?:(?:^|.*;\s*)ttcDesignToken\s*\=\s*([^;]*).*$)|^.*$/,"$1");return a.defaults.headers.common.Authorization=t,a.post(c.checkLogin).then(e=>e.data.success).catch(e=>(console.log(e.response),!1))},adminGetProductsAll(){return a.get(c.adminGetProductsAll).then(t=>t.data.products).catch(t=>{console.dir(t.response.status)})},adminPostProduct(t){const e={data:s({},t)};return a.post(c.adminPostProduct,e).then(r=>r).catch(r=>{console.log(r.response)})},adminDeleteProduct(t){return a.delete(`${c.adminDeleteProduct}/${t}`).then(e=>e).catch(e=>{console.log(e.response)})},adminUpdateProduct(t,e){const r={data:s({},e)};return a.put(`${c.adminUpdateProduct}/${t}`,r).then(o=>o).catch(o=>{console.log(o)})},adminImageUpload(t){const e=new FormData;return e.append("file-to-upload",t),a.post(`${c.imgUpload}`,e,{headers:{"Content-Type":"multipart/form-data"}}).then(r=>r.data.imageUrl).catch(r=>{console.log(r)})},adminGetOrders(){return a.get(c.adminOrders).then(t=>t.data.orders).catch(t=>{console.dir(t.response.status)})},adminPutOrder(t,e){const r=e;return a.put(`${c.adminOrder}/${t}`,{data:r}).then(o=>o.data.orders).catch(o=>{console.dir(o.response.status)})},adminDeleteOrdersAll(){return a.delete(`${c.adminOrders}/all`).then(t=>t.data.orders).catch(t=>{console.dir(t.response.status)})},adminDeleteOrder(t){return a.delete(`${c.adminOrder}/${t}`).then(e=>e.data.orders).catch(e=>{console.dir(e.response.status)})},adminGetArticles(t=1){return a.get(`${c.adminArticle}s?page=${t}`).then(e=>e.data).catch(e=>{console.log(e.response)})},adminGetArticle(t){return a.get(`${c.adminArticle}/${t}`).then(e=>e.data.article).catch(e=>{console.log(e.response)})},adminPostArticle(t){const e={data:s({},t)};return a.post(c.adminArticle,e).then(r=>r).catch(r=>{console.log(r.response)})},adminUpdateArticle(t,e){const r=e;return a.put(`${c.adminArticle}/${t}`,{data:r}).then(o=>o).catch(o=>{console.log(o.response)})},adminDeleteArticle(t){return a.delete(`${c.adminArticle}/${t}`).then(e=>e.data).catch(e=>{console.dir(e.response.status)})},turnBackLogin(t){(t===401||t===403)&&(window.location="/boaboly-art-store/#/admin-login")}};export{P as a,A as f};
