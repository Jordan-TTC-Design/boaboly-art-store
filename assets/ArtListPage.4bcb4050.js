import{r as f,o as i,c as C,G as x,t as a,E as h,y as u,I as P,q as g,D as y,F as b,K as w,k as I,w as k,v as S,L,$ as N,B,M as V,N as q}from"./vendor.eae21ba8.js";import{a as T}from"./article.71aae005.js";import{c as K}from"./filter.2c4a36d2.js";import{_ as A}from"./index.8c38c7d6.js";import{S as M,P as E}from"./SideNav.c241cc1c.js";import{a as F}from"./artStore.2ad9be7e.js";import{s as U}from"./statusStore.f4307df1.js";import"./api.b01730aa.js";const j={props:["artItem","listIndex"],emits:["addCollection"],setup(s,{emit:r}){return{emit:r,changeTime:K}}},D={class:"flex sm:flex-row flex-col sm:items-end sm:mb-8 gap-4"},R=["src","alt"],W={class:"flex flex-col items-start sm:mb-8 mb-4 gap-y-2"},G={class:"border border-gray-300 px-2 py-0.5 text-sm"},$={class:"flex sm:flex-row flex-col justify-between items-start gap-2 sm:pl-4"},z={class:"flex flex-wrap"},H={class:"text-gray-500 text-right whitespace-nowrap self-end"};function J(s,r,n,o,m,v){const c=f("RouterLink");return i(),C(c,{class:"artItem group bg-white border-b border-gray-300 py-12",to:`/arts/${n.artItem.id}`},{default:x(()=>[a("div",D,[h(c,{class:"relative block sm:p-4 group-hover:bg-gray-100 flex-shrink-0",to:`/arts/${n.artItem.id}`},{default:x(()=>[a("img",{class:"sm:w-48 w-full bg-gray-300 rounded",src:n.artItem.imagesUrl[0],alt:`${n.artItem.title}\u7522\u54C1\u5716\u7247`},null,8,R)]),_:1},8,["to"]),a("div",W,[a("p",G,u(n.artItem.category),1),h(c,{to:`/arts/${n.artItem.id}`,class:"cursor-pointer text-xl text-black font-medium block"},{default:x(()=>[P(u(n.artItem.title),1)]),_:1},8,["to"])])]),a("div",$,[a("div",z,[(i(!0),g(b,null,y(n.artItem.tags,_=>(i(),g("p",{key:_,class:"mr-2"},"#"+u(_),1))),128))]),a("p",H,u(o.changeTime(n.artItem.create_at)),1)])]),_:1},8,["to"])}var O=A(j,[["render",J],["__scopeId","data-v-1167996c"]]);const Q={components:{ArtListItemSquare:O,SideNav:M,Pagination:E},setup(){const s=F(),r=U(),n=w(""),o=w(""),m=I(()=>{let e=[];return e=s.arts,e=c(n.value,e),e=_(o.value,e),e}),v=I(()=>{let e=[];if(m.value.length<=8)return m.value;{const t=s.pagination.nowPage*8-8;return m.value.forEach((l,d)=>{t<=d&&d<s.pagination.nowPage*8&&e.push(l)}),e}});k(m,(e,t)=>{e.length!==t.length&&(s.pagination.nowPage=1,s.pagination.totalPages=Math.ceil(e.length/8))}),k(s.pagination,()=>{r.mainContainer.scrollTo({top:0,behavior:"smooth"})});function c(e,t){let l=t;return e!==""&&e!==void 0&&(l=t.filter(d=>d.title.includes(e)||d.tags.includes(e))),l}function _(e,t){let l=t;if(console.log(e,t),e!==""&&e!==void 0)l=t.filter(d=>d.category===e);else return t;return l}return s.getArtList(),{filterKeyword:n,filterArticleCategory:o,articleCategory:T,nowPageArts:v,artData:s}}},p=s=>(V("data-v-a7996e2e"),s=s(),q(),s),X={class:"relative bg-white grid grid-cols-12 lg:px-24 md:px-16 px-4 md:py-32 py-16 md:gap-x-8 w-full"},Y={class:"col-start-2 col-span-10 lg:mb-32 md:mb-24 mb-16"},Z=p(()=>a("h4",{class:"text-xl text-black uppercase mb-8"},"All Works",-1)),tt=p(()=>a("h3",{class:"lg:text-8xl sm:text-5xl text-4xl text-black font-medium md:mb-16 mb-8"}," \u5168\u90E8\u5716\u6587\u5275\u4F5C ",-1)),et={class:"flex md:flex-row flex-col md:gap-8 gap-4"},at={class:"pageInputBox flex-1"},ot=p(()=>a("button",{type:"button",class:"py-1.5 px-2 searchBtn group"},[a("i",{class:"bi bi-x text-xl group-hover:text-red-600"})],-1)),st=p(()=>a("div",{class:"underLine"},null,-1)),rt={class:"pageSelectBox flex-1 md:hidden"},nt=p(()=>a("option",{selected:"",value:""},"\u5168\u90E8\u985E\u5225",-1)),lt=["value"],it=p(()=>a("div",{class:"underLine"},null,-1)),ct={class:"lg:col-span-2 md:col-span-3 relative md:block hidden"},dt={class:"sticky top-32"},gt=P("\u6587\u7AE0\u985E\u5225"),mt={class:"lg:col-span-10 md:col-span-9 col-span-12 grid xl:grid-cols-2 grid-cols-1 lg:gap-x-8 mb-8"},_t={key:0,class:"lg:col-start-3 md:col-start-4 lg:col-span-10 md:col-span-9 col-span-12 flex justify-center"};function pt(s,r,n,o,m,v){const c=f("SideNav"),_=f("ArtListItemSquare"),e=f("Pagination");return i(),g("div",X,[a("div",Y,[Z,tt,a("div",et,[a("div",at,[S(a("input",{class:"appearance-none bg-transparent border-b border-gray-300 w-full text-gray-700 py-2 px-2 leading-tight focus:outline-none",type:"text",id:"inputSearch",placeholder:"\u641C\u5C0B\u95DC\u9375\u5B57","onUpdate:modelValue":r[0]||(r[0]=t=>o.filterKeyword=t)},null,512),[[L,o.filterKeyword]]),ot,st]),a("div",rt,[S(a("select",{class:"cursor-pointer appearance-none bg-transparent border-b border-gray-300 w-full p-2 leading-tight focus:outline-none",id:"filterCategory",value:"modelValue","onUpdate:modelValue":r[1]||(r[1]=t=>o.filterArticleCategory=t)},[nt,(i(!0),g(b,null,y(o.articleCategory,t=>(i(),g("option",{key:t,value:t},u(t),9,lt))),128))],512),[[N,o.filterArticleCategory]]),it])])]),a("div",ct,[a("div",dt,[h(c,{"nav-list":o.articleCategory,onChangeSideNav:r[2]||(r[2]=t=>o.filterArticleCategory=t)},{default:x(()=>[gt]),_:1},8,["nav-list"])])]),a("div",mt,[(i(!0),g(b,null,y(o.nowPageArts,(t,l)=>(i(),C(_,{key:t.id,"art-item":t,"list-index":l},null,8,["art-item","list-index"]))),128))]),o.artData.pagination.totalPages>=2?(i(),g("div",_t,[h(e,{"pagination-data":o.artData.pagination,onChangePageNumber:r[3]||(r[3]=t=>o.artData.pagination.nowPage=t)},null,8,["pagination-data"])])):B("",!0)])}var It=A(Q,[["render",pt],["__scopeId","data-v-a7996e2e"]]);export{It as default};
